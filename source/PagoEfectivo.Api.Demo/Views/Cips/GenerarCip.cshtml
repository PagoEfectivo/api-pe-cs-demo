
@model PagoEfectivo.Api.Demo.Models.Entity.CipViewModel;
@{
ViewData["Title"] = "PÃ¡gina ConsultarCip";
Layout = "~/Views/Shared/_Layout.cshtml"; 
}
<div class="header-custom">
  <button class="btn btn-outline-warning" id="sidebarCollapse" type="button">
    <div class="menu-icon"></div>
    <div class="menu-icon"></div>
    <div class="menu-icon"></div>
  </button><span class="header-title">Generar CIP</span>
</div>
<div class="content-main">
  @using (Html.BeginForm("GenerarCip", "Cips", FormMethod.Post))
  {
  <div class="form-group">
    <label for="Currency">Tipo de moneda</label>@Html.DropDownListFor(m => m.Currency, new List<SelectListItem>
    {
    new SelectListItem() {Text = "PEN", Value="PEN"},
    new SelectListItem() {Text = "USD", Value="USD"}
    }, new { @id = "Amount", @class = "form-control"})
  </div>
  <div class="form-group">
    <label for="Amount">Monto:</label>@Html.TextBoxFor(m => m.Amount, new { @id = "Amount", @class = "form-control", @Value = "" })
  </div>
  <div class="form-group">
    <label for="TransactionCode">Codigo de transaccion:</label>@Html.TextBoxFor(m => m.TransactionCode, new { @id = "TransactionCode", @class = "form-control", @Value = "" })
  </div>
  <div class="form-group">
    <label for="UserEmail">Correo de usuario:</label>@Html.TextBoxFor(m => m.UserEmail, new { @id = "UserEmail", @class = "form-control", @Value = "" })
  </div>@Html.HiddenFor(m => m.Authenticate.IdService, new { @id = "idService" })
  @Html.HiddenFor(m => m.Authenticate.AccessKey, new { @id = "accessKey" })
  @Html.HiddenFor(m => m.Authenticate.SecretKey, new { @id = "secretKey" })
  <button class="btn btn-default" type="submit">Generar</button>}<br>    @if (@ViewBag.response != null)
      {
  <div class="card">
    <div class="card-body">
      <label class="font-weight-bold" for="firstInput">Response</label><br>
      <div class="form-group">
        <label for="firstInput">Code:</label>
        <input class="form-control" id="email" type="text" value="@ViewBag.code" readonly="">
      </div>
      <div class="form-group">
        <label for="firstInput">Message:</label>
        <input class="form-control" id="email" type="text" value="@ViewBag.status" readonly="">
      </div>
      <div class="form-group">
        <label for="firstInput">Data:</label>
        <pre><code id="code">                               </code></pre>
      </div>
    </div>
  </div>
  <script>
    var response = @(Html.Raw(ViewBag.response));
    var str = JSON.stringify(response, null, 2);
    $('#code').text(str);
  </script>    }
</div>
<script>
  $(document).ready(function () {
  $('#idService').val(getCookie('serviceId'));
  $('#accessKey').val(getCookie('accessKey'));
  $('#secretKey').val(getCookie('secretKey'));
  })
</script>